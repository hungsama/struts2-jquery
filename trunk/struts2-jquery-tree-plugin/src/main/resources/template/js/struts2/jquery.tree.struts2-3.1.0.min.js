/*!
 * jquery.tree.struts2.js
 *
 * Integration of trees with struts 2
 *
 * Requires use of jquery.struts2.js
 *
 * Copyright (c) 2010 Johannes Geppert http://www.jgeppert.com
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 */
(function(a){a.struts2_jquery_tree={debugPrefix:"[struts2_jquery_tree] ",tree:function(c,e){var b=this;if(!b.loadAtOnce){b.require("js/base/jquery.cookie"+b.minSuffix+".js")}b.require("js/jstree/jquery.hotkeys"+b.minSuffix+".js");b.require("js/jstree/jquery.jstree"+b.minSuffix+".js");e.plugins=["ui"];if(e.treetheme){e.plugins.push("themes");e.themes={};e.themes.theme=e.treetheme;var d=null;if(!a.scriptPath){d=""}else{d=a.scriptPath}e.themes.url=d+"js/jstree/themes/"+e.treetheme+"/style.css"}else{e.plugins.push("themeroller")}if(e.contextmenu){e.plugins.push("crrm");e.plugins.push("contextmenu")}if(e.types){e.plugins.push("types")}if(e.url){e.json_data={};e.json_data.ajax={};e.json_data.ajax.url=e.url;e.json_data.ajax.data=function(f){return{id:f.attr?f.attr("id"):0}};e.plugins.push("json_data")}else{e.plugins.push("html_data")}if(e.onclick){c.bind("select_node.jstree",function(f,h){var g={};g.data=h;g.event=f;b.publishTopic(c,e.onclick,g)})}if(e.openload){c.bind("loaded.jstree",function(f,g){c.jstree("open_all")})}if(e.openrefresh){c.bind("refresh.jstree",function(f,g){c.jstree("open_all")})}c.jstree(e)},treeitem:function(c,d){var b=this;b.anchor(c,d)}};a.extend(a.struts2_jquery_tree,a.struts2_jquery)})(jQuery);