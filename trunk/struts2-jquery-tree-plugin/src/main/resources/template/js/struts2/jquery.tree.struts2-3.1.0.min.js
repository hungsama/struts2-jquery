/*!
 * jquery.tree.struts2.js
 *
 * Integration of trees with struts 2
 *
 * Requires use of jquery.struts2.js
 *
 * Copyright (c) 2010 Johannes Geppert http://www.jgeppert.com
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 */
(function(a){a.struts2_jquery_tree={debugPrefix:"[struts2_jquery_tree] ",tree:function(c,d){var b=this;if(!b.loadAtOnce){b.require("js/base/jquery.cookie"+b.minSuffix+".js")}b.require("js/jstree/jquery.hotkeys"+b.minSuffix+".js");b.require("js/jstree/jquery.jstree"+b.minSuffix+".js");d.plugins=["ui"];if(d.treetheme){d.plugins.push("themes");b.requireCss("js/jstree/themes/"+d.treetheme+"/style.css")}else{d.plugins.push("themeroller")}if(d.contextmenu){d.plugins.push("crrm");d.plugins.push("contextmenu")}if(d.url){d.json_data={};d.json_data.ajax={};d.json_data.ajax.url=d.url;d.json_data.ajax.data=function(e){return{id:e.attr?e.attr("id"):0}};d.plugins.push("json_data")}else{d.plugins.push("html_data")}if(d.onclick){c.bind("select_node.jstree",function(e,g){var f={};f.data=g;f.event=e;b.publishTopic(c,d.onclick,f)})}if(d.openload){c.bind("loaded.jstree",function(e,f){c.jstree("open_all")})}if(d.openrefresh){c.bind("refresh.jstree",function(e,f){c.jstree("open_all")})}c.jstree(d)},treeitem:function(c,d){var b=this;b.anchor(c,d)}};a.extend(a.struts2_jquery_tree,a.struts2_jquery)})(jQuery);